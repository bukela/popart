import{u as k,a as U,c as m,b as s,w as c,d as i,g as F,h as p,i as o,o as g,F as b,f as L,t as w,l as x,v as N,j as P}from"./app-CRyPKCL9.js";import{_ as $}from"./AuthenticatedLayout-Fw-tIRVs.js";import{_ as n,b as r,a as u}from"./TextInput-C3sT_JFC.js";import{P as B}from"./PrimaryButton-RBAhk0mj.js";import"./ApplicationLogo-DWQIIuIz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"py-12"},S={class:"mx-auto max-w-3xl sm:px-6 lg:px-8"},M={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},T=["value"],j={class:"flex items-center justify-end gap-4"},G={__name:"Create",props:{categories:{type:Array,required:!0}},setup(y){const _=y,e=k({category_id:"",title:"",description:"",price:"",condition:"used",picture:null,contact_phone:"",location:""}),V=()=>{e.post(route("listings.store"),{forceFormData:!0})},h=d=>{e.picture=d.target.files[0]},f=(d,t=0)=>{let a=[];return d.forEach(l=>{a.push({...l,level:t});const v=l.children_recursive||l.childrenRecursive||l.children||[];v.length>0&&(a=a.concat(f(v,t+1)))}),a},C=f(_.categories);return(d,t)=>{const a=U("Head");return g(),m(b,null,[s(a,{title:"Create Listing"}),s($,null,{header:c(()=>[...t[7]||(t[7]=[i("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Create New Listing ",-1)])]),default:c(()=>[i("div",D,[i("div",S,[i("div",M,[i("form",{onSubmit:F(V,["prevent"]),class:"p-6 space-y-6"},[i("div",null,[s(n,{for:"category_id",value:"Category *"}),p(i("select",{id:"category_id","onUpdate:modelValue":t[0]||(t[0]=l=>o(e).category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[8]||(t[8]=i("option",{value:""},"Select a category",-1)),(g(!0),m(b,null,L(o(C),l=>(g(),m("option",{key:l.id,value:l.id},w("â€”".repeat(l.level))+" "+w(l.name),9,T))),128))],512),[[x,o(e).category_id]]),s(r,{class:"mt-2",message:o(e).errors.category_id},null,8,["message"])]),i("div",null,[s(n,{for:"title",value:"Title *"}),s(u,{id:"title",type:"text",modelValue:o(e).title,"onUpdate:modelValue":t[1]||(t[1]=l=>o(e).title=l),class:"mt-1 block w-full"},null,8,["modelValue"]),s(r,{class:"mt-2",message:o(e).errors.title},null,8,["message"])]),i("div",null,[s(n,{for:"description",value:"Description *"}),p(i("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=l=>o(e).description=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"4"},null,512),[[N,o(e).description]]),s(r,{class:"mt-2",message:o(e).errors.description},null,8,["message"])]),i("div",null,[s(n,{for:"price",value:"Price ($) *"}),s(u,{id:"price",type:"number",step:"0.01",min:"0",modelValue:o(e).price,"onUpdate:modelValue":t[3]||(t[3]=l=>o(e).price=l),class:"mt-1 block w-full"},null,8,["modelValue"]),s(r,{class:"mt-2",message:o(e).errors.price},null,8,["message"])]),i("div",null,[s(n,{for:"condition",value:"Condition *"}),p(i("select",{id:"condition","onUpdate:modelValue":t[4]||(t[4]=l=>o(e).condition=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[...t[9]||(t[9]=[i("option",{value:"new"},"New",-1),i("option",{value:"used"},"Used",-1)])],512),[[x,o(e).condition]]),s(r,{class:"mt-2",message:o(e).errors.condition},null,8,["message"])]),i("div",null,[s(n,{for:"picture",value:"Picture"}),i("input",{id:"picture",type:"file",accept:"image/*",onChange:h,class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"},null,32),s(r,{class:"mt-2",message:o(e).errors.picture},null,8,["message"])]),i("div",null,[s(n,{for:"contact_phone",value:"Contact Phone *"}),s(u,{id:"contact_phone",type:"tel",modelValue:o(e).contact_phone,"onUpdate:modelValue":t[5]||(t[5]=l=>o(e).contact_phone=l),class:"mt-1 block w-full"},null,8,["modelValue"]),s(r,{class:"mt-2",message:o(e).errors.contact_phone},null,8,["message"])]),i("div",null,[s(n,{for:"location",value:"Location *"}),s(u,{id:"location",type:"text",modelValue:o(e).location,"onUpdate:modelValue":t[6]||(t[6]=l=>o(e).location=l),class:"mt-1 block w-full"},null,8,["modelValue"]),s(r,{class:"mt-2",message:o(e).errors.location},null,8,["message"])]),i("div",j,[s(B,{disabled:o(e).processing},{default:c(()=>[...t[10]||(t[10]=[P(" Create Listing ",-1)])]),_:1},8,["disabled"])])],32)])])])]),_:1})],64)}}};export{G as default};
